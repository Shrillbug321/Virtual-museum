<!DOCTYPE html>
<html lang="pl"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:fragment="head(title)">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>[[${title}]]</title>
<!--	<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>-->
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
	<link rel="stylesheet" th:href="@{/css/style.css}">
	<script>
        $(document).ready(function (){
            $("#languages").change(function (){
                let language = $("#languages").val();
                console.log(language);
                if (language != "")
                    window.location.replace("?lang="+language);
            });
        });
	</script>
</head>
<body>
<div class="container content" th:fragment="header(item)">
	<a th:href="@{/index.html}" th:text="#{page.name}"> </a>
		<ul id="menu">
			<li th:classappend="${name == [[item]] ? 'activeMenuItem' : 'menuItem'}" name="paintings" sec:authorize="hasAnyRole('USER', 'ADMIN')">
				<a th:href="@{/paintings/list.html}" th:text="#{menu.paintings}"></a> </li>
			<li > <a th:href="@{/search/form.html}" th:text="#{menu.search}"></a> </li>
			<li > <a th:href="@{/account/registration/form.html}" th:text="#{menu.register}"></a> </li>
			<li sec:authorize="isAuthenticated()">
				<p> Witaj <span sec:authentication="name"> </span></p>
			</li>
			<li >
				<form th:action="@{/account/authorization/logout}" method="post">
					<input class="btn btn-light" type="submit" th:value="#{menu.logout}">
				</form>
			</li>
			<li >
				<select id="languages">
					<option value="" th:text="#{lang.choose}"></option>
					<option value="pl" th:text="#{lang.pl}"></option>
					<option value="en" th:text="#{lang.en}"></option>
				</select>
			</li>
		</ul>
		<div style="clear:both"></div>
	</div>
	<div class="container content" th:fragment="footer">
		<p th:text="#{footer}"></p>
		<span th:each="role: ${#authentication.getAuthorities()}">	<span th:text="${role}"></span>
   		</span>
	</div>
</body>
</html>